{% extends "base/layout.html" %}

{% load staticfiles %}

{% block assets %}
<script type='text/javascript' src="{{ settings.STATIC_LIB_BASE }}jquery/dist/jquery.min.js"></script>

<link href="{{ settings.STATIC_LIB_BASE }}bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
<script type='text/javascript' src="{{ settings.STATIC_LIB_BASE }}bootstrap/dist/js/bootstrap.min.js"></script>

<script type='text/javascript' src="{% static "workflow/js/typeahead.bundle.js" %}"></script>

<link rel="stylesheet" href="{% static "base/base.css" %}"/>
<link rel="stylesheet" href="{% static "workflow/css/css_case.css" %}"/>
<link rel="stylesheet" href="{% static "workflow/css/workflow.css" %}"/>
<link rel="stylesheet" href="{% static "workflow/css/verification.css" %}"/>

<script type='text/javascript' src="{% static "workflow/js/css_case.js" %}"></script>

<link href='https://fonts.googleapis.com/css?family=PT+Sans:400,700' rel='stylesheet' type='text/css'>

{% endblock %}

{% block body %}

{% load widget_tweaks %}

<div class="container">

    <div class="row subnav">
      <div class="col-md-8 col-sm-7 col-xs-12">
          <h1>{{ property_address }}</h1>
          <p class="reporter-subheader"> reported on {{ form.reported_datetime.value|date }} by {{ form.name.value }}</p>
      </div>

      <div class="col-md-4 col-sm-5 col-xs-12">
          <ul class="nav nav-pills pull-right">
            <li role="presentation" class=""><a href="#">Reports</a></li>
            <li role="presentation" class="active"><a href="#">Verification</a></li>
            <li role="presentation" class=""><a href="#">Case</a></li>
          </ul>
      </div>
    </div>

    <div class="row">
        <div class="col-sm-4 pane-selectors">
            <div class="list-group">
                <h5 class="list-group-item list-group-item-title">Verification</h5>
                <a href="#prop-details" class="list-group-item active">Property Details<span class="fa fa-list-item fa-angle-right"></span></a>
                <a href="#contact-sheet" class="list-group-item">Contact Sheet<span class="fa fa-list-item fa-angle-right"></span></a>
                <a href="#docs" class="list-group-item">Documents<span class="fa fa-list-item fa-angle-right"></span></a>
            </div>
        </div>

        <!-- Property Details pane -->
        <div class="col-sm-7 col-sm-offset-1 report tab-pane" id="prop-details">
            <div class="row">
              <div class="col-sm-12">
                <h4>Property Details</h4>
                <p>(coming soon)</p>
              </div>
            </div>
        </div>  <!-- end Report Details pane -->


        <!-- Contact Sheet pane -->
        <div class="tab-pane" id="contact-sheet">
          <div class="col-sm-7 col-sm-offset-1 report">
              <h4>Contact Sheet</h4>

              <form id="owner-contact-form" method="POST">
                  {% csrf_token %}

                  {{ contact_owner_form.non_field_errors }}
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="fieldWrapper form-group">
                          <label for="{{ form.owner_name.id_for_label }}">Property Owner:</label>
                          {{ contact_owner_form.owner_name|add_class:"form-control" }}
                          {{ contact_owner_form.owner_name.errors }}
                      </div>
                    </div>

                    <div class="col-sm-12">
                      <div class="fieldWrapper form-group">
                          <label for="{{ form.owner_address.id_for_label }}">Owner Address:</label>
                          {{ contact_owner_form.owner_address|add_class:"form-control" }}
                          {{ contact_owner_form.owner_address.errors }}
                      </div>
                    </div>

                    <div class="col-sm-6">
                      <div class="fieldWrapper form-group owner-phone">
                          <label for="{{ form.owner_phone.id_for_label }}">Phone:</label>
                          {{ contact_owner_form.owner_phone|add_class:"form-control" }}
                          {{ contact_owner_form.owner_phone.errors }}
                      </div>
                    </div>

                    <div class="col-sm-6">
                      <div class="fieldWrapper form-group owner-email">
                          <label for="{{ form.owner_email.id_for_label }}">Email:</label>
                          {{ contact_owner_form.owner_email|add_class:"form-control" }}
                          {{ contact_owner_form.owner_email.errors }}
                      </div>
                    </div>

                  </div>
              </form>

              <div class="contact-log-section">
                  <label>Contact Log</label>
                      <div class="row">
                        <div class="col-sm-12">
                          <div class="table-wrapper">
                            <table class="table table-hover small-table" id="call-log">
                              <thead>
                                <tr>
                                  <th>Date</th>
                                  <th>Caller</th>
                                  <th>Type</th>
                                  <th>Description</th>
                                </tr>
                              </thead>

                              <tbody>
                                <tr>
                                  <td>Today</td>
                                  <td>TinaE</td>
                                  <td>Phone</td>
                                  <td>Left message with assistant to call back</td>
                                </tr>

                                <tr>
                                  <td>10/15/15</td>
                                  <td>TinaE</td>
                                  <td>Phone</td>
                                  <td>Left message asking if she received email</td>
                                </tr>

                                <tr>
                                  <td>10/10/15</td>
                                  <td>Karen</td>
                                  <td>Email</td>
                                  <td>First contact; informed her of squatters</td>
                                </tr>
                            </table>
                          </div> <!--table wrapper-->

                          <a class="pull-right" href="#">Add Contact</a>
                        </div>
                      </div>

                    </div><!--contact log table-->

            </div>
        </div> <!-- end Contact Sheet pane -->


        <!-- Documents pane -->
        <div class="tab-pane" id="docs">
            <div class="col-sm-7 col-sm-offset-1 report">
              <h4>Verification Documents</h4>

              {% for uploaded_doc in uploaded_docs %}
                  <div class="row uploaded-doc">
                    <div class="col-sm-4">
                      <img src="{{ uploaded_doc.thumbnail_url }}">
                    </div>

                    <div class="col-sm-8">
                      <ul class="doc-attrs">
                          <li class="doc-name"><h5 class="doc-name-text">{{ uploaded_doc.name }}</h5></li>
                          <li class="doc-link"><a href="#">{{ uploaded_doc.filename }}</a></li>
                          <li class="doc-date"><p class="doc-date-text">Added: {{ uploaded_doc.added }}</p></li>
                      </ul>
                    </div>
                  </div>

              {% endfor %}


                  <div class="row new-upload">
                    <div class="col-sm-12">
                      <form id="file-upload-form">
                          <h4>Upload a new file</h4>
                          <input type="file" name="uploadDoc">
                      </form>
                    </div>
                  </div>

            </div>
        </div> <!-- end Documents pane -->



    </div>
</div>

<div class="footer container-fluid">
  <div class="container next-actions">
    <div class="row">
      <div class="col-sm-4 pull-right">
        <button type="submit" class="btn btn-success btn-lg pull-right" aria-haspopup="true" aria-expanded="true">Save</button>
      </div>
    </div>
  </footer>
</div>

{% endblock %}
